# Serein Shop - D·ª± √°n E-commerce Hi·ªán ƒê·∫°i

M·ªôt d·ª± √°n website th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠ (e-commerce) full-stack ƒë∆∞·ª£c x√¢y d·ª±ng b·∫±ng Next.js v√† Node.js, √°p d·ª•ng ki·∫øn tr√∫c hi·ªán ƒë·∫°i, h·ªó tr·ª£ ƒëa ng√¥n ng·ªØ, ƒëa ti·ªÅn t·ªá v√† cung c·∫•p tr·∫£i nghi·ªám qu·∫£n tr·ªã to√†n di·ªán.

## üìù Description

Serein Shop l√† m·ªôt n·ªÅn t·∫£ng mua s·∫Øm tr·ª±c tuy·∫øn ho√†n ch·ªânh, ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ mang l·∫°i tr·∫£i nghi·ªám ng∆∞·ªùi d√πng m∆∞·ª£t m√†, tr·ª±c quan ·ªü ph√≠a kh√°ch h√†ng v√† m·ªôt h·ªá th·ªëng qu·∫£n tr·ªã m·∫°nh m·∫Ω, gi√†u t√≠nh nƒÉng cho qu·∫£n tr·ªã vi√™n ·ªü ph√≠a backend. D·ª± √°n th·ªÉ hi·ªán s·ª± k·∫øt h·ª£p gi·ªØa c√°c c√¥ng ngh·ªá web hi·ªán ƒë·∫°i ƒë·ªÉ gi·∫£i quy·∫øt c√°c b√†i to√°n th·ª±c t·∫ø trong lƒ©nh v·ª±c th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠.

### 1. T·ªïng quan & T√≠nh nƒÉng ch√≠nh

Trang web ƒë∆∞·ª£c chia th√†nh hai khu v·ª±c ch√≠nh v·ªõi c√°c t√≠nh nƒÉng chuy√™n bi·ªát:

#### ‚ú® Giao di·ªán Kh√°ch h√†ng (Client)

- **Tr·∫£i nghi·ªám ƒêa ng√¥n ng·ªØ & ƒêa ti·ªÅn t·ªá:** Ng∆∞·ªùi d√πng c√≥ th·ªÉ chuy·ªÉn ƒë·ªïi linh ho·∫°t gi·ªØa Ti·∫øng Vi·ªát (VND) v√† Ti·∫øng Anh (USD). Giao di·ªán, d·ªØ li·ªáu s·∫£n ph·∫©m v√† gi√° c·∫£ s·∫Ω t·ª± ƒë·ªông c·∫≠p nh·∫≠t theo l·ª±a ch·ªçn, v·ªõi t·ª∑ gi√° ƒë∆∞·ª£c l·∫•y real-time.
- **Trang ch·ªß ƒë·ªông:** Hi·ªÉn th·ªã c√°c banner qu·∫£ng c√°o, s·∫£n ph·∫©m n·ªïi b·∫≠t v√† s·∫£n ph·∫©m m·ªõi nh·∫•t ƒë∆∞·ª£c qu·∫£n l√Ω ho√†n to√†n t·ª´ trang admin.
- **Duy·ªát s·∫£n ph·∫©m n√¢ng cao:** Trang danh s√°ch s·∫£n ph·∫©m v·ªõi b·ªô l·ªçc ƒëa ti√™u ch√≠ (danh m·ª•c, kho·∫£ng gi√°, thu·ªôc t√≠nh nh∆∞ m√†u s·∫Øc/k√≠ch th∆∞·ªõc, ƒë√°nh gi√°) v√† c√°c t√πy ch·ªçn s·∫Øp x·∫øp.
- **Chi ti·∫øt s·∫£n ph·∫©m th√¥ng minh:** H·ªó tr·ª£ s·∫£n ph·∫©m c√≥ nhi·ªÅu bi·∫øn th·ªÉ (variants), t·ª± ƒë·ªông c·∫≠p nh·∫≠t h√¨nh ·∫£nh, gi√° v√† SKU khi ng∆∞·ªùi d√πng ch·ªçn t√πy ch·ªçn.
- **Gi·ªè h√†ng v√† Thanh to√°n li·ªÅn m·∫°ch:** Gi·ªè h√†ng th√¥ng minh, t·ª± ƒë·ªông g·ªôp s·∫£n ph·∫©m, √°p d·ª•ng m√£ gi·∫£m gi√° v√† quy tr√¨nh thanh to√°n ƒëa ph∆∞∆°ng th·ª©c (COD, Chuy·ªÉn kho·∫£n, t√≠ch h·ª£p PayPal Sandbox).
- **Qu·∫£n l√Ω t√†i kho·∫£n c√° nh√¢n:** Ng∆∞·ªùi d√πng c√≥ th·ªÉ ƒëƒÉng k√Ω/ƒëƒÉng nh·∫≠p (x√°c th·ª±c JWT), qu·∫£n l√Ω th√¥ng tin, s·ªï ƒë·ªãa ch·ªâ, xem l·∫°i l·ªãch s·ª≠ ƒë∆°n h√†ng chi ti·∫øt v√† theo d√µi ƒë∆°n h√†ng (cho c·∫£ kh√°ch v√£ng lai).
- **T∆∞∆°ng t√°c ng∆∞·ªùi d√πng:** H·ªá th·ªëng ƒë√°nh gi√° s·∫£n ph·∫©m (c√≥ ·∫£nh) v√† danh s√°ch y√™u th√≠ch (wishlist).

#### üöÄ Giao di·ªán Qu·∫£n tr·ªã vi√™n (Admin)

- **B·∫£ng ƒëi·ªÅu khi·ªÉn (Dashboard) tr·ª±c quan:** Cung c·∫•p c√°i nh√¨n t·ªïng quan v·ªÅ ho·∫°t ƒë·ªông kinh doanh v·ªõi c√°c bi·ªÉu ƒë·ªì (ƒë∆∞·ªùng, c·ªôt, tr√≤n) v√† th·∫ª th·ªëng k√™ v·ªÅ doanh thu, ƒë∆°n h√†ng, kh√°ch h√†ng m·ªõi. D·ªØ li·ªáu c√≥ th·ªÉ ƒë∆∞·ª£c l·ªçc theo c√°c kho·∫£ng th·ªùi gian t√πy ch·ªçn (tu·∫ßn, th√°ng, qu√Ω, nƒÉm).
- **B√°o c√°o & Ph√¢n t√≠ch chuy√™n s√¢u:** C√°c b√°o c√°o chi ti·∫øt v·ªÅ B√°n h√†ng, S·∫£n ph·∫©m (top b√°n ch·∫°y theo s·ªë l∆∞·ª£ng/doanh thu), Kh√°ch h√†ng (top chi ti√™u) v√† T·ªìn kho (s·∫£n ph·∫©m s·∫Øp h·∫øt/h·∫øt h√†ng).
- **Qu·∫£n l√Ω S·∫£n ph·∫©m (CRUD):** Giao di·ªán th√™m/s·ª≠a/x√≥a s·∫£n ph·∫©m v·ªõi tr√¨nh so·∫°n th·∫£o vƒÉn b·∫£n (CKEditor), qu·∫£n l√Ω thu·ªôc t√≠nh, t·∫°o bi·∫øn th·ªÉ h√†ng lo·∫°t v√† t·ª± ƒë·ªông t·∫°o SKU.
- **Qu·∫£n l√Ω ƒê∆°n h√†ng:** Xem danh s√°ch ƒë∆°n h√†ng v·ªõi b·ªô l·ªçc, xem chi ti·∫øt, c·∫≠p nh·∫≠t tr·∫°ng th√°i, x·ª≠ l√Ω y√™u c·∫ßu h·ªßy/ho√†n ti·ªÅn t·ª´ kh√°ch h√†ng, v√† th·ª±c hi·ªán ho√†n ti·ªÅn (refund) qua PayPal.
- **Qu·∫£n l√Ω Ng∆∞·ªùi d√πng:** Xem danh s√°ch kh√°ch h√†ng, th√¥ng tin chi ti·∫øt (t·ªïng chi ti√™u, s·ªë ƒë∆°n h√†ng), v√† ch·ª©c nƒÉng ƒë√¨nh ch·ªâ/k√≠ch ho·∫°t t√†i kho·∫£n.
- **H·ªá th·ªëng Khuy·∫øn m√£i:** T·∫°o v√† qu·∫£n l√Ω m√£ gi·∫£m gi√° (coupon) v·ªõi nhi·ªÅu ƒëi·ªÅu ki·ªán ph·ª©c t·∫°p (theo %, s·ªë ti·ªÅn c·ªë ƒë·ªãnh, ƒë∆°n h√†ng t·ªëi thi·ªÉu, √°p d·ª•ng cho s·∫£n ph·∫©m/danh m·ª•c c·ª• th·ªÉ).
- **Qu·∫£n l√Ω N·ªôi dung & C√†i ƒë·∫∑t:** Cho ph√©p admin t√πy ch·ªânh c√°c banner tr√™n trang ch·ªß, c√†i ƒë·∫∑t ng√¥n ng·ªØ/ti·ªÅn t·ªá m·∫∑c ƒë·ªãnh, v√† c·∫•u h√¨nh s·ªë l∆∞·ª£ng item hi·ªÉn th·ªã tr√™n c√°c trang.

### 2. C√°ch t·ªï ch·ª©c th∆∞ m·ª•c d·ª± √°n

D·ª± √°n ƒë∆∞·ª£c t√°ch th√†nh hai ph·∫ßn ri√™ng bi·ªát: `frontend` v√† `backend`, v·ªõi c·∫•u tr√∫c module h√≥a r√µ r√†ng.

#### **Front-end (Next.js)**

- **`src/app/[locale]`**: C·∫•u tr√∫c route ƒë·ªông c·ªët l√µi c·ªßa **App Router**, l√† n∆°i ch·ª©a to√†n b·ªô c√°c trang v√† layout, x·ª≠ l√Ω ƒëa ng√¥n ng·ªØ m·ªôt c√°ch t·ª± nhi√™n. C√°c route ƒë∆∞·ª£c nh√≥m theo ch·ª©c nƒÉng (`(main)`, `admin`).
- **`src/components`**: Ch·ª©a c√°c component React c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng, ƒë∆∞·ª£c ph√¢n chia th√†nh `client`, `admin`, v√† `shared` (d√πng chung).
- **`src/constants`**: Ch·ª©a c√°c ƒë·ªãnh nghƒ©a bi·∫øn.
- **`src/lib`**: Ch·ª©a c√°c logic c·ªët l√µi nh∆∞ axiosInstance (ƒë·ªÉ g·ªçi API), react-query (qu·∫£n l√Ω state ph√≠a server).
- **`src/lib/react-query`**: Ch·ª©a c√°c custom hook (`useQuery`, `useMutation`) c·ªßa **TanStack Query**, ƒë√≥ng g√≥i logic fetch v√† qu·∫£n l√Ω state t·ª´ server.
- **`src/services`**: T·∫ßng giao ti·∫øp API, ch·ª©a c√°c h√†m g·ªçi API c·ª• th·ªÉ b·∫±ng **Axios**.
- **`src/store`**: Ch·ª©a c√°c slice c·ªßa **Redux Toolkit** ƒë·ªÉ qu·∫£n l√Ω state to√†n c·ª•c ph√≠a client (tr·∫°ng th√°i x√°c th·ª±c, gi·ªè h√†ng checkout, c√†i ƒë·∫∑t giao di·ªán).
- **`src/types`**: Ch·ª©a c√°c `interface` **TypeScript** ƒë·ªãnh nghƒ©a c·∫•u tr√∫c d·ªØ li·ªáu cho to√†n b·ªô d·ª± √°n.
- **`src/i18n` & `src/middleware.ts`**: Ch·ª©a c√°c file c·∫•u h√¨nh v√† ƒëi·ªÅu h∆∞·ªõng cho th∆∞ vi·ªán **next-intl**.

#### **Back-end (Node.js/Express)**

- S·ª≠ d·ª•ng m√¥ h√¨nh ki·∫øn tr√∫c **MVC (Model-View-Controller)**.
- **`src/models`**: ƒê·ªãnh nghƒ©a c√°c **Schema** c·ªßa **Mongoose** v·ªõi c·∫•u tr√∫c ƒëa ng√¥n ng·ªØ.
- **`src/controllers`**: Ch·ª©a to√†n b·ªô logic nghi·ªáp v·ª•, x·ª≠ l√Ω request v√† t∆∞∆°ng t√°c v·ªõi Model. S·ª≠ d·ª•ng m·∫°nh m·∫Ω **Aggregation Pipeline** c·ªßa MongoDB ƒë·ªÉ t·ªïng h·ª£p d·ªØ li·ªáu ph·ª©c t·∫°p.
- **`src/routes`**: ƒê·ªãnh nghƒ©a c√°c endpoint API theo chu·∫©n RESTful.
- **`src/middlewares`**: Ch·ª©a c√°c h√†m trung gian nh∆∞ x√°c th·ª±c token JWT, ki·ªÉm tra quy·ªÅn admin, x√°c th·ª±c d·ªØ li·ªáu ƒë·∫ßu v√†o b·∫±ng **Joi**, v√† x·ª≠ l√Ω ng√¥n ng·ªØ.
- **`src/utils`**: Ch·ª©a c√°c h√†m ti·ªán √≠ch d√πng chung nh∆∞ g·ª≠i email, x·ª≠ l√Ω upload, t·∫°o token, v.v.
- **`src/validations`**: Ch·ª©a c√°c ph∆∞∆°ng th·ª©c validate cho c√°c d·ªØ li·ªáu c·ªßa c√°c API.
- **`src/config`**: Ch·ª©a config cho MongoDB v√† Cloudinary.

### 3. Lu·ªìng th·ª±c thi c·ªßa d·ª± √°n

1. **Kh·ªüi ƒë·ªông:** Hai server (Next.js v√† Express) ch·∫°y ƒë·ªôc l·∫≠p.
2. **API Call:** Giao di·ªán frontend th·ª±c hi·ªán c√°c l·ªùi g·ªçi API ƒë·∫øn backend.
3. **X·ª≠ l√Ω Backend:** M·ªôt request API s·∫Ω ch·∫°y qua lu·ªìng: **Routes** ‚Üí **Middlewares** (x√°c th·ª±c, validation, ng√¥n ng·ªØ) ‚Üí **Controllers** (logic nghi·ªáp v·ª•) ‚Üí **Models** (t∆∞∆°ng t√°c CSDL MongoDB).
4. **Hi·ªÉn th·ªã:** Frontend nh·∫≠n response, c·∫≠p nh·∫≠t state, v√† re-render giao di·ªán.

---

## ‚öôÔ∏è Technology

D·ª± √°n ƒë∆∞·ª£c x√¢y d·ª±ng tr√™n n·ªÅn t·∫£ng MERN stack ƒë√£ ƒë∆∞·ª£c t√πy ch·ªânh v√† m·ªü r·ªông v·ªõi c√°c c√¥ng ngh·ªá hi·ªán ƒë·∫°i, t·∫≠p trung v√†o hi·ªáu su·∫•t, kh·∫£ nƒÉng m·ªü r·ªông v√† tr·∫£i nghi·ªám ng∆∞·ªùi d√πng.

### Front-end

- [**React 19**](https://react.dev/) & [**Next.js 15**](https://nextjs.org/) (App Router & Turbopack)
- [**TypeScript**](https://www.typescriptlang.org/)
- [**Tailwind CSS v4**](https://tailwindcss.com/)
- **State Management:**
  - [**TanStack Query (React Query) v5**](https://tanstack.com/query/latest)
  - [**Redux Toolkit**](https://redux-toolkit.js.org/)
- **UI Components:**
  - [**Headless UI**](https://headlessui.com/) (cho Client)
  - [**CoreUI for React v5**](https://coreui.io/react/) (cho Admin)
- **Charting:**
  - [**Chart.js v4**](https://www.chartjs.org/)
  - [**react-chartjs-2 v5**](https://react-chartjs-2.js.org/)
- **Internationalization (i18n):**
  - [**next-intl**](https://next-intl.dev/)
- **Rich Text Editor:**
  - [**CKEditor 5**](https://ckeditor.com/ckeditor-5/)
- **Payments:**
  - [**@paypal/react-paypal-js**](https://www.npmjs.com/package/@paypal/react-paypal-js)
- **HTTP Client:**
  - [**Axios**](https://axios-http.com/)
- **Utilities:**
  - [**Swiper.js**](https://swiperjs.com/) (Slider/Carousel)
  - [**date-fns**](https://date-fns.org/) (Thao t√°c ng√†y th√°ng)
  - [**react-hot-toast**](https://react-hot-toast.com/) (Th√¥ng b√°o)
  - [**react-icons**](https://react-icons.github.io/react-icons/) (B·ªô icon)
  - [**classnames**](https://github.com/JedWatson/classnames) (N·ªëi class ƒë·ªông)
- **Real-time:**
  - [**Socket.IO Client**](https://socket.io/)

### Back-end

- **Runtime:**
  - [**Node.js**](https://nodejs.org/)
- **Framework:**
  - [**Express.js v5**](https://expressjs.com/)
- **Database ODM:**
  - [**Mongoose v8**](https://mongoosejs.com/)
- **Authentication:**
  - [**JSON Web Token (JWT)**](https://jwt.io/)
  - [**bcrypt**](https://www.npmjs.com/package/bcrypt)
- **Validation:**
  - [**Joi v17**](https://joi.dev/)
- **File Uploads:**
  - [**Multer**](https://github.com/expressjs/multer)
  - [**Cloudinary v2**](https://cloudinary.com/)
- **Utilities:**
  - [**Nodemailer**](https://nodemailer.com/) (G·ª≠i email)
  - [**Winston**](https://github.com/winstonjs/winston) (Logging)
  - [**Socket.IO**](https://socket.io/) (Real-time Communication)
  - [**slugify**](https://www.npmjs.com/package/slugify) (T·∫°o URL th√¢n thi·ªán)
- **Development:**
  - [**Nodemon**](https://nodemon.io/)
- **Testing:**
  - [**Jest**](https://jestjs.io/)
  - [**Supertest**](https://www.npmjs.com/package/supertest)

### Database

- **NoSQL:** [**MongoDB**](https://www.mongodb.com/)

---

## üèõÔ∏è S∆° ƒë·ªì Ki·∫øn tr√∫c & D·ªØ li·ªáu

Ph·∫ßn n√†y cung c·∫•p c√°i nh√¨n t·ªïng quan v·ªÅ ki·∫øn tr√∫c ch·ª©c nƒÉng v√† c·∫•u tr√∫c d·ªØ li·ªáu c·ªßa d·ª± √°n.

### 1. S∆° ƒë·ªì Ph√¢n r√£ Ch·ª©c nƒÉng (Functional Decomposition Diagram)

S∆° ƒë·ªì d∆∞·ªõi ƒë√¢y m√¥ t·∫£ t·ªïng quan c√°c ch·ª©c nƒÉng ch√≠nh c·ªßa h·ªá th·ªëng v√† c√°ch ch√∫ng ƒë∆∞·ª£c ph√¢n chia th√†nh c√°c module nh·ªè h∆°n cho Admin, Client, v√† Guest.

**S∆° ƒë·ªì Ph√¢n r√£ Ch·ª©c nƒÉng (Admin)**
![S∆° ƒë·ªì Ph√¢n r√£ Ch·ª©c nƒÉng (Admin)](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753614509/Functional_Decomposition_Diagram_Admin_qmcxq4.png)

**S∆° ƒë·ªì Ph√¢n r√£ Ch·ª©c nƒÉng (Client)**
![S∆° ƒë·ªì Ph√¢n r√£ Ch·ª©c nƒÉng (Client)](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753614509/Functional_Decomposition_Diagram_Client_gcbuik.png)

**S∆° ƒë·ªì Ph√¢n r√£ Ch·ª©c nƒÉng (Guest)**
![S∆° ƒë·ªì Ph√¢n r√£ Ch·ª©c nƒÉng (Guest)](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753614509/Functional_Decomposition_Diagram_Guest_nvhuvr.png)

### 2. S∆° ƒë·ªì Th·ª±c th·ªÉ Li√™n k·∫øt (Entity-Relationship Diagram - ERD)

M·∫∑c d√π s·ª≠ d·ª•ng MongoDB (NoSQL), s∆° ƒë·ªì ERD logic d∆∞·ªõi ƒë√¢y gi√∫p tr·ª±c quan h√≥a c√°c "collection" ch√≠nh v√† m·ªëi quan h·ªá tham chi·∫øu (reference) gi·ªØa ch√∫ng, th·ªÉ hi·ªán c·∫•u tr√∫c d·ªØ li·ªáu c·ªët l√µi c·ªßa ·ª©ng d·ª•ng.

**S∆° ƒë·ªì ERD Serein Shop**
![S∆° ƒë·ªì ERD Serein Shop](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753614509/Entity_Relationship_Diagram_l754bv.png)

---

## ‚ú® Live Demo & Screenshots

### üåê Live Demo

- **Client Website (Vercel):** [https://online-store-delta-seven.vercel.app/](https://online-store-delta-seven.vercel.app/)
- **Backend API Server (Render):** [https://online-store-pb1l.onrender.com/](https://online-store-pb1l.onrender.com/)

### üîë Demo Accounts

B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng c√°c t√†i kho·∫£n d∆∞·ªõi ƒë√¢y ƒë·ªÉ tr·∫£i nghi·ªám c√°c ch·ª©c nƒÉng c·ªßa trang web.

| Vai tr√≤      | Email                                  | M·∫≠t kh·∫©u      |
| :----------- | :------------------------------------- | :------------ |
| **Admin**    | `adminexample@gmail.com`               | `Admin123!`   |
| **Customer** | `customerexample@gmail.com`            | `Client123!`  |
| **Paypal**   | `customerserein@persional.example.com` | `Client12345` |

### üì∏ Screenshots

#### Giao di·ªán Kh√°ch h√†ng (Client View)

Giao di·ªán ƒë∆∞·ª£c thi·∫øt k·∫ø hi·ªán ƒë·∫°i, responsive, v√† t·∫≠p trung v√†o tr·∫£i nghi·ªám ng∆∞·ªùi d√πng.

|                                                                                                                                                                                                                                                                                                                                                                                                                                                           Trang ch·ªß ƒêa ng√¥n ng·ªØ (English)                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                 Trang Danh s√°ch S·∫£n ph·∫©m                                                                                                                                                                                                                                                                                                                                                                                 |
| :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|                                                                                                                                                                                                                                              ![Trang ch·ªß v·ªõi banner v√† s·∫£n ph·∫©m ƒë∆∞·ª£c qu·∫£n l√Ω t·ª´ admin](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753692011/Homepage_oycmpm.png) ![Trang ch·ªß v·ªõi banner v√† s·∫£n ph·∫©m ƒë∆∞·ª£c qu·∫£n l√Ω t·ª´ admin](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753692011/HomepageNewProduct_q6pkr5.png) ![Trang ch·ªß v·ªõi banner v√† s·∫£n ph·∫©m ƒë∆∞·ª£c qu·∫£n l√Ω t·ª´ admin](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753692011/HomepageBestSales_h6vikh.png)                                                                                                                                                                                                                                               |                                                                  ![Trang danh s√°ch s·∫£n ph·∫©m v·ªõi b·ªô l·ªçc theo gi√°, thu·ªôc t√≠nh, danh m·ª•c](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753700820/ProductList_xg7n06.png) ![Trang danh s√°ch s·∫£n ph·∫©m v·ªõi b·ªô l·ªçc theo gi√°, thu·ªôc t√≠nh, danh m·ª•c](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753700820/ProductList_1_ljs3jz.png) ![Trang danh s√°ch s·∫£n ph·∫©m v·ªõi b·ªô l·ªçc theo gi√°, thu·ªôc t√≠nh, danh m·ª•c](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753700819/ProductList_2_pezvdk.png) ![Trang danh s√°ch s·∫£n ph·∫©m v·ªõi b·ªô l·ªçc theo gi√°, thu·ªôc t√≠nh, danh m·ª•c](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753700820/ProductList_3_hk0sit.png)                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                             **Trang Chi ti·∫øt S·∫£n ph·∫©m**                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                              **Trang danh s√°ch y√™u th√≠ch**                                                                                                                                                                                                                                                                                                                                                                               |
| ![Trang chi ti·∫øt s·∫£n ph·∫©m hi·ªÉn th·ªã c√°c t√πy ch·ªçn m√†u s·∫Øc, size, v√† t·ª± ƒë·ªông c·∫≠p nh·∫≠t gi√°/·∫£nh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753700820/ProductDetail_utuibn.png) ![Trang chi ti·∫øt s·∫£n ph·∫©m hi·ªÉn th·ªã c√°c t√πy ch·ªçn m√†u s·∫Øc, size, v√† t·ª± ƒë·ªông c·∫≠p nh·∫≠t gi√°/·∫£nh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753700819/ProductDetail_1_zyzvkj.png) ![Trang chi ti·∫øt s·∫£n ph·∫©m hi·ªÉn th·ªã c√°c t√πy ch·ªçn m√†u s·∫Øc, size, v√† t·ª± ƒë·ªông c·∫≠p nh·∫≠t gi√°/·∫£nh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753700819/ProductDetail_2_j7siy0.png) ![Trang chi ti·∫øt s·∫£n ph·∫©m hi·ªÉn th·ªã c√°c t√πy ch·ªçn m√†u s·∫Øc, size, v√† t·ª± ƒë·ªông c·∫≠p nh·∫≠t gi√°/·∫£nh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753700820/ProductDetail_3_of5op5.png) ![Trang chi ti·∫øt s·∫£n ph·∫©m hi·ªÉn th·ªã c√°c t√πy ch·ªçn m√†u s·∫Øc, size, v√† t·ª± ƒë·ªông c·∫≠p nh·∫≠t gi√°/·∫£nh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753700819/ProductDetaiImageGallery_ae4ha5.png) |                                                                                                                                                                                                                                                                                                                               ![Trang danh s√°ch c√°c s·∫£n ph·∫©m y√™u th√≠ch](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753711804/Wishlist_ntnnja.png)                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                              **Gi·ªè h√†ng & Thanh to√°n**                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                           **Trang Profile & L·ªãch s·ª≠ ƒê∆°n h√†ng**                                                                                                                                                                                                                                                                                                                                                                           |
|                            ![Xem qua gi·ªè h√†ng](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753711798/CartPreview_umuxd5.png) ![Trang gi·ªè h√†ng](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753711780/CartPage_zdbve6.png) ![Trang gi·ªè h√†ng √°p d·ª•ng m√£ gi·∫£m gi√°](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753711780/CartPage_1_nkgusz.png) ![Quy tr√¨nh thanh to√°n v·ªõi th√¥ng tin chi ti·∫øt v√† t√≠ch h·ª£p PayPal](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753711783/CheckoutPage_lldhbu.png) ![Quy tr√¨nh thanh to√°n v·ªõi th√¥ng tin chi ti·∫øt v√† t√≠ch h·ª£p PayPal](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753711777/CheckoutPage_1_c7ka0f.png) ![ƒê·∫∑t h√†ng th√†nh c√¥ng](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753711786/OrderComplete_t8shqs.png) ![ƒê·∫∑t h√†ng th√†nh c√¥ng](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753711785/OrderComplete_1_f5ojkl.png)                             | ![Trang qu·∫£n l√Ω th√¥ng tin c√° nh√¢n v√† xem l·∫°i c√°c ƒë∆°n h√†ng ƒë√£ ƒë·∫∑t](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753711788/Profile_iiwxpk.png) ![Trang qu·∫£n l√Ω th√¥ng tin c√° nh√¢n v√† xem l·∫°i c√°c ƒë∆°n h√†ng ƒë√£ ƒë·∫∑t](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753711786/Profile_1_m3moiw.png) ![Trang qu·∫£n l√Ω th√¥ng tin c√° nh√¢n v√† xem l·∫°i c√°c ƒë∆°n h√†ng ƒë√£ ƒë·∫∑t](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753711797/ProfileAddress_y8yica.png) ![Trang qu·∫£n l√Ω th√¥ng tin c√° nh√¢n v√† xem l·∫°i c√°c ƒë∆°n h√†ng ƒë√£ ƒë·∫∑t](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753711784/ProfileOrder_gra71c.png) ![Trang qu·∫£n l√Ω th√¥ng tin c√° nh√¢n v√† xem l·∫°i c√°c ƒë∆°n h√†ng ƒë√£ ƒë·∫∑t](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753711790/ProfileVoucher_ffx4dz.png) |

---

#### Giao di·ªán Qu·∫£n tr·ªã vi√™n (Admin Panel)

B·∫£ng qu·∫£n tr·ªã m·∫°nh m·∫Ω v√† ƒë·∫ßy ƒë·ªß ch·ª©c nƒÉng, ƒë∆∞·ª£c x√¢y d·ª±ng b·∫±ng CoreUI.

|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            B·∫£ng ƒëi·ªÅu khi·ªÉn (Dashboard) Tr·ª±c quan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Qu·∫£n l√Ω S·∫£n ph·∫©m v·ªõi Form ƒêa ng√¥n ng·ªØ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|                                                                                                                                                                                                                                                                                                                                                                                                                             ![Dashboard v·ªõi bi·ªÉu ƒë·ªì doanh thu, tr·∫°ng th√°i ƒë∆°n h√†ng v√† c√°c th·∫ª th·ªëng k√™](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887073/Dashboard_ryvpeg.png) ![Dashboard v·ªõi bi·ªÉu ƒë·ªì doanh thu, tr·∫°ng th√°i ƒë∆°n h√†ng v√† c√°c th·∫ª th·ªëng k√™](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887073/Dashboard_1_e3mphc.png) ![Dashboard v·ªõi bi·ªÉu ƒë·ªì doanh thu, tr·∫°ng th√°i ƒë∆°n h√†ng v√† c√°c th·∫ª th·ªëng k√™](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887073/Dashboard_2_f73dzw.png)                                                                                                                                                                                                                                                                                                                                                                                                                             | ![Form th√™m/s·ª≠a s·∫£n ph·∫©m v·ªõi c√°c tab nh·∫≠p li·ªáu Ti·∫øng Vi·ªát v√† Ti·∫øng Anh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887062/AdminProduct_tezryb.png) ![Form th√™m/s·ª≠a s·∫£n ph·∫©m v·ªõi c√°c tab nh·∫≠p li·ªáu Ti·∫øng Vi·ªát v√† Ti·∫øng Anh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887060/AdminProduct_1_izaic3.png) ![Form th√™m/s·ª≠a s·∫£n ph·∫©m v·ªõi c√°c tab nh·∫≠p li·ªáu Ti·∫øng Vi·ªát v√† Ti·∫øng Anh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887060/AdminProduct_2_lqndae.png) ![Form th√™m/s·ª≠a s·∫£n ph·∫©m v·ªõi c√°c tab nh·∫≠p li·ªáu Ti·∫øng Vi·ªát v√† Ti·∫øng Anh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887061/AdminProduct_3_l9ywfk.png) ![Form th√™m/s·ª≠a s·∫£n ph·∫©m v·ªõi c√°c tab nh·∫≠p li·ªáu Ti·∫øng Vi·ªát v√† Ti·∫øng Anh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887061/AdminProduct_4_wgbryb.png) ![Form th√™m/s·ª≠a s·∫£n ph·∫©m v·ªõi c√°c tab nh·∫≠p li·ªáu Ti·∫øng Vi·ªát v√† Ti·∫øng Anh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887061/AdminProduct_5_sax7e6.png) ![Form th√™m/s·ª≠a s·∫£n ph·∫©m v·ªõi c√°c tab nh·∫≠p li·ªáu Ti·∫øng Vi·ªát v√† Ti·∫øng Anh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887061/AdminProduct_6_dbeuzt.png) ![Form th√™m/s·ª≠a s·∫£n ph·∫©m v·ªõi c√°c tab nh·∫≠p li·ªáu Ti·∫øng Vi·ªát v√† Ti·∫øng Anh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887061/AdminProduct_7_wwpjne.png) ![Form th√™m/s·ª≠a s·∫£n ph·∫©m v·ªõi c√°c tab nh·∫≠p li·ªáu Ti·∫øng Vi·ªát v√† Ti·∫øng Anh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887061/AdminProduct_8_lp0lvc.png) ![Form th√™m/s·ª≠a s·∫£n ph·∫©m v·ªõi c√°c tab nh·∫≠p li·ªáu Ti·∫øng Vi·ªát v√† Ti·∫øng Anh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887062/AdminProduct_9_tygxmp.png) |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    **Qu·∫£n l√Ω Danh m·ª•c**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **Qu·∫£n l√Ω Thu·ªôc t√≠nh S·∫£n ph·∫©m**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               ![Giao di·ªán qu·∫£n l√Ω danh m·ª•c s·∫£n ph·∫©m](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887060/AdminCategory_tler4n.png) ![Giao di·ªán qu·∫£n l√Ω danh m·ª•c s·∫£n ph·∫©m](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887059/AdminCategory_1_gd3aaz.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ![Giao di·ªán qu·∫£n l√Ω thu·ªôc t√≠nh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887059/AdminAttribute_r195j7.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                **Qu·∫£n l√Ω ƒê∆°n h√†ng Chi ti·∫øt**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       **X·ª≠ l√Ω Y√™u c·∫ßu Ho√†n ti·ªÅn**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                                                                                                                                                                                                                                                      ![Trang chi ti·∫øt ƒë∆°n h√†ng hi·ªÉn th·ªã th√¥ng tin kh√°ch h√†ng, s·∫£n ph·∫©m v√† c√°c h√†nh ƒë·ªông x·ª≠ l√Ω](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887060/AdminOrder_mlnb6c.png) ![Trang chi ti·∫øt ƒë∆°n h√†ng hi·ªÉn th·ªã th√¥ng tin kh√°ch h√†ng, s·∫£n ph·∫©m v√† c√°c h√†nh ƒë·ªông x·ª≠ l√Ω](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887060/AdminOrder_1_ldjh56.png) ![Trang chi ti·∫øt ƒë∆°n h√†ng hi·ªÉn th·ªã th√¥ng tin kh√°ch h√†ng, s·∫£n ph·∫©m v√† c√°c h√†nh ƒë·ªông x·ª≠ l√Ω](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887059/AdminOrder_2_xx4o3r.png) ![Trang chi ti·∫øt ƒë∆°n h√†ng hi·ªÉn th·ªã th√¥ng tin kh√°ch h√†ng, s·∫£n ph·∫©m v√† c√°c h√†nh ƒë·ªông x·ª≠ l√Ω](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887059/AdminOrder_3_ayjf1l.png) ![Trang in ƒë∆°n h√†ng](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887060/AdminOrderPrint_jsb1y5.png)                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ![Panel x·ª≠ l√Ω y√™u c·∫ßu tr·∫£ h√†ng/ho√†n ti·ªÅn t·ª´ kh√°ch h√†ng v·ªõi c√°c n√∫t Ch·∫•p nh·∫≠n/T·ª´ ch·ªëi](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753959189/AdminPanelRequest_kiaykr.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         **Qu·∫£n l√Ω Ng∆∞·ªùi d√πng & ƒê√¨nh ch·ªâ T√†i kho·∫£n**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   **Qu·∫£n l√Ω M√£ gi·∫£m gi√° ƒêa ti·ªÅn t·ªá**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     ![Danh s√°ch ng∆∞·ªùi d√πng hi·ªÉn th·ªã t·ªïng chi ti√™u v√† s·ªë ƒë∆°n h√†ng, c√≥ ch·ª©c nƒÉng ƒë√¨nh ch·ªâ](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887072/AdminUser_tkne2s.png) ![Danh s√°ch ng∆∞·ªùi d√πng hi·ªÉn th·ªã t·ªïng chi ti√™u v√† s·ªë ƒë∆°n h√†ng, c√≥ ch·ª©c nƒÉng ƒë√¨nh ch·ªâ](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887072/AdminUser_1_zk4huj.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ![Form t·∫°o coupon v·ªõi t√πy ch·ªçn nh·∫≠p gi√° tr·ªã b·∫±ng VND ho·∫∑c USD v√† ch·ªçn ƒë·ªëi t∆∞·ª£ng √°p d·ª•ng](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887060/AdminCoupon_xowpha.png) ![Form t·∫°o coupon v·ªõi t√πy ch·ªçn nh·∫≠p gi√° tr·ªã b·∫±ng VND ho·∫∑c USD v√† ch·ªçn ƒë·ªëi t∆∞·ª£ng √°p d·ª•ng](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887060/AdminCoupon_xowpha.png) ![Form t·∫°o coupon v·ªõi t√πy ch·ªçn nh·∫≠p gi√° tr·ªã b·∫±ng VND ho·∫∑c USD v√† ch·ªçn ƒë·ªëi t∆∞·ª£ng √°p d·ª•ng](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887059/AdminCoupon_2_llywme.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              **B√°o c√°o & Th·ªëng k√™ Chuy√™n s√¢u**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **Qu·∫£n l√Ω ƒê√°nh gi√° & Ph·∫£n h·ªìi**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ![Trang b√°o c√°o chi ti·∫øt v·ªÅ b√°n h√†ng, top s·∫£n ph·∫©m, kh√°ch h√†ng v√† t·ªìn kho](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887068/AdminReport_qfnlk7.png) ![Trang b√°o c√°o chi ti·∫øt v·ªÅ b√°n h√†ng, top s·∫£n ph·∫©m, kh√°ch h√†ng v√† t·ªìn kho](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887066/AdminReport_1_skadgi.png) ![Trang b√°o c√°o chi ti·∫øt v·ªÅ b√°n h√†ng, top s·∫£n ph·∫©m, kh√°ch h√†ng v√† t·ªìn kho](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887066/AdminReport_1.1_psrycy.png) ![Trang b√°o c√°o chi ti·∫øt v·ªÅ b√°n h√†ng, top s·∫£n ph·∫©m, kh√°ch h√†ng v√† t·ªìn kho](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887067/AdminReport_2_xlxptp.png) ![Trang b√°o c√°o chi ti·∫øt v·ªÅ b√°n h√†ng, top s·∫£n ph·∫©m, kh√°ch h√†ng v√† t·ªìn kho](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887067/AdminReport_2.1_vyihqf.png) ![Trang b√°o c√°o chi ti·∫øt v·ªÅ b√°n h√†ng, top s·∫£n ph·∫©m, kh√°ch h√†ng v√† t·ªìn kho](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887067/AdminReport_3_owwi4z.png) ![Trang b√°o c√°o chi ti·∫øt v·ªÅ b√°n h√†ng, top s·∫£n ph·∫©m, kh√°ch h√†ng v√† t·ªìn kho](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887067/AdminReport_4_sinwmd.png) ![Trang b√°o c√°o chi ti·∫øt v·ªÅ b√°n h√†ng, top s·∫£n ph·∫©m, kh√°ch h√†ng v√† t·ªìn kho](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887067/AdminReport_4.1_sjbmw4.png) |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ![Trang qu·∫£n l√Ω ƒë√°nh gi√° c·ªßa kh√°ch h√†ng v·ªõi ch·ª©c nƒÉng duy·ªát, ·∫©n v√† ph·∫£n h·ªìi](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887068/AdminReview_tg9hda.png) ![Trang qu·∫£n l√Ω ƒë√°nh gi√° c·ªßa kh√°ch h√†ng v·ªõi ch·ª©c nƒÉng duy·ªát, ·∫©n v√† ph·∫£n h·ªìi](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753947808/AdminReview_1_kwqgth.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            **C√†i ƒë·∫∑t H·ªá th·ªëng & Qu·∫£n l√Ω Banner**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              **Th√¥ng b√°o**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|                                                                                                                                                                                                                                                                                                                                                                                                                        ![Trang c√†i ƒë·∫∑t cho ph√©p admin t√πy ch·ªânh banner, ng√¥n ng·ªØ/ti·ªÅn t·ªá m·∫∑c ƒë·ªãnh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887072/AdminSetting_rfuofg.png) ![Trang c√†i ƒë·∫∑t cho ph√©p admin t√πy ch·ªânh banner, ng√¥n ng·ªØ/ti·ªÅn t·ªá m·∫∑c ƒë·ªãnh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887071/AdminSetting_1_kvyd1x.png) ![Trang c√†i ƒë·∫∑t cho ph√©p admin t√πy ch·ªânh banner, ng√¥n ng·ªØ/ti·ªÅn t·ªá m·∫∑c ƒë·ªãnh](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753887072/AdminSetting_2_gnd6jw.png)                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ![Giao di·ªán g·ª≠i th√¥ng b√°o ƒë·∫©y (push notification)](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753946972/AdminNotti_qqsx1h.png) ![Giao di·ªán g·ª≠i th√¥ng b√°o ƒë·∫©y (push notification)](https://res.cloudinary.com/dh7mq8bgc/image/upload/v1753946977/AdminNotti_1_kgnglg.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

---

## üíª Code Explanation

Ph·∫ßn n√†y s·∫Ω ƒëi s√¢u v√†o chi ti·∫øt ki·∫øn tr√∫c v√† logic c·ªßa t·ª´ng ph·∫ßn trong d·ª± √°n.

### 1. Front-end

Frontend ƒë∆∞·ª£c x√¢y d·ª±ng b·∫±ng **Next.js 15** theo ki·∫øn tr√∫c **App Router**, **TypeScript**, **CoreUI** v√† **Tailwind CSS**, t·∫°o ra m·ªôt ·ª©ng d·ª•ng web hi·ªán ƒë·∫°i, hi·ªáu su·∫•t cao v√† c√≥ kh·∫£ nƒÉng m·ªü r·ªông. Ki·∫øn tr√∫c ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ t√°ch bi·ªát r√µ r√†ng c√°c m·ªëi quan t√¢m (separation of concerns) v√† t·ªëi ∆∞u h√≥a tr·∫£i nghi·ªám cho c·∫£ ng∆∞·ªùi d√πng cu·ªëi v√† nh√† ph√°t tri·ªÉn.

#### `src/app` - Ki·∫øn tr√∫c Route v√† ƒêa ng√¥n ng·ªØ (i18n)

Ki·∫øn tr√∫c th∆∞ m·ª•c `app` l√† tr√°i tim c·ªßa ·ª©ng d·ª•ng, t·∫≠n d·ª•ng t·ªëi ƒëa c√°c t√≠nh nƒÉng c·ªßa App Router.

- **App Router & Route ƒë·ªông `[locale]`:** To√†n b·ªô ·ª©ng d·ª•ng ƒë∆∞·ª£c l·ªìng trong th∆∞ m·ª•c `app/[locale]`. ƒê√¢y l√† n·ªÅn t·∫£ng cho h·ªá th·ªëng ƒëa ng√¥n ng·ªØ b·∫±ng `next-intl`. Middleware s·∫Ω ch·∫∑n c√°c request, x√°c ƒë·ªãnh `locale` ('vi' ho·∫∑c 'en') v√† chuy·ªÉn n√≥ v√†o `params` cho `layout.tsx` v√† `page.tsx`.
- **Route Groups `(main)` & `(admin)`:** C√°c route ƒë∆∞·ª£c nh√≥m b·∫±ng d·∫•u ngo·∫∑c ƒë∆°n ƒë·ªÉ t·ªï ch·ª©c code v√† √°p d·ª•ng c√°c layout kh√°c nhau m√† kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn URL cu·ªëi c√πng.
  - `(main)`: Ch·ª©a t·∫•t c·∫£ c√°c trang d√†nh cho kh√°ch h√†ng (`/products`, `/cart`, `/profile`,...). N√≥ s·ª≠ d·ª•ng `(main)/layout.tsx` ƒë·ªÉ hi·ªÉn th·ªã Header, Footer v√† c√°c th√†nh ph·∫ßn chung c·ªßa trang client.
  - `admin`: Ch·ª©a to√†n b·ªô giao di·ªán qu·∫£n tr·ªã, s·ª≠ d·ª•ng `admin/layout.tsx` ri√™ng bi·ªát v·ªõi Sidebar v√† Header c·ªßa admin.
- **Server & Client Components:**
  - **Server Components (`page.tsx`, `layout.tsx`):** ƒê∆∞·ª£c ∆∞u ti√™n s·ª≠ d·ª•ng ƒë·ªÉ t·ªëi ∆∞u SEO v√† t·ªëc ƒë·ªô t·∫£i trang ban ƒë·∫ßu. Ch√∫ng c√≥ th·ªÉ `async` ƒë·ªÉ fetch d·ªØ li·ªáu tr·ª±c ti·∫øp tr√™n server, gi·∫£m thi·ªÉu s·ªë l·∫ßn g·ªçi API t·ª´ client.
  - **Client Components (`"use client"`):** ƒê∆∞·ª£c s·ª≠ d·ª•ng cho c√°c trang/component c√≥ t√≠nh t∆∞∆°ng t√°c cao (s·ª≠ d·ª•ng `useState`, `useEffect`, v√† c√°c event handler). V√≠ d·ª•, `ProductsPageClient.tsx` qu·∫£n l√Ω to√†n b·ªô logic l·ªçc v√† ph√¢n trang, trong khi `page.tsx` cha ch·ªâ ƒë∆°n gi·∫£n l√† render n√≥.
- **Providers & Context:**
  - **`QueryProvider.tsx`, `SettingsContext.tsx`:** C√°c provider n√†y ƒë∆∞·ª£c ƒë·∫∑t ·ªü g·ªëc th∆∞ m·ª•c `app` v√† render b√™n trong `[locale]/layout.tsx`, ƒë·∫£m b·∫£o to√†n b·ªô ·ª©ng d·ª•ng client-side ƒë∆∞·ª£c b·ªçc trong c√°c context c·∫ßn thi·∫øt.
  - **`AuthInitializerWrapper.tsx`:** M·ªôt wrapper quan tr·ªçng, s·ª≠ d·ª•ng hook `useAuthInitializer` ƒë·ªÉ x√°c th·ª±c phi√™n ƒëƒÉng nh·∫≠p c·ªßa ng∆∞·ªùi d√πng (th√¥ng qua refresh token) tr∆∞·ªõc khi render to√†n b·ªô giao di·ªán. N√≥ hi·ªÉn th·ªã m·ªôt m√†n h√¨nh loading to√†n c·ª•c, ngƒÉn ch·∫∑n hi·ªán t∆∞·ª£ng "nh·∫•p nh√°y" giao di·ªán.

#### `src/components` - Th∆∞ vi·ªán Component T√°i s·ª≠ d·ª•ng

ƒê√¢y l√† n∆°i ch·ª©a to√†n b·ªô c√°c "vi√™n g·∫°ch" x√¢y d·ª±ng n√™n giao di·ªán, ƒë∆∞·ª£c t·ªï ch·ª©c th√†nh ba c·∫•p ƒë·ªÉ t·ªëi ƒëa h√≥a kh·∫£ nƒÉng t√°i s·ª≠ d·ª•ng v√† d·ªÖ d√†ng qu·∫£n l√Ω.

- **`shared`**: Ch·ª©a c√°c component chung nh·∫•t, c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng ·ªü c·∫£ trang client v√† admin. Ch√∫ng th∆∞·ªùng l√† c√°c th√†nh ph·∫ßn UI c∆° b·∫£n ho·∫∑c c√°c ti·ªán √≠ch kh√¥ng ph·ª• thu·ªôc v√†o ng·ªØ c·∫£nh c·ª• th·ªÉ.
  - V√≠ d·ª•: `ConfirmationModal.tsx` (modal x√°c nh·∫≠n h√†nh ƒë·ªông), `RatingStars.tsx` (hi·ªÉn th·ªã sao ƒë√°nh gi√°), `CustomEditor.tsx` (tr√¨nh so·∫°n th·∫£o CKEditor), `SettingsSwitcher.tsx` (b·ªô chuy·ªÉn ƒë·ªïi ng√¥n ng·ªØ/ti·ªÅn t·ªá).
- **`client`**: Ch·ª©a c√°c component d√†nh ri√™ng cho giao di·ªán kh√°ch h√†ng, th∆∞·ªùng c√≥ logic v√† giao di·ªán ph·ª©c t·∫°p h∆°n, li√™n quan tr·ª±c ti·∫øp ƒë·∫øn tr·∫£i nghi·ªám mua s·∫Øm.
  - V√≠ d·ª•: `HeroBanner.tsx` (slider trang ch·ªß), `ProductCard.tsx` (th·∫ª s·∫£n ph·∫©m), `CheckoutForm.tsx` (form thanh to√°n), `CategoryMenu.tsx` (mega menu).
- **`admin`**: Ch·ª©a c√°c component d√†nh ri√™ng cho trang qu·∫£n tr·ªã, ƒë∆∞·ª£c x√¢y d·ª±ng ch·ªß y·∫øu b·∫±ng **CoreUI for React** ƒë·ªÉ t·∫°o ra giao di·ªán dashboard chuy√™n nghi·ªáp.
  - V√≠ d·ª•: `AdminSidebar.tsx`, `DataTablePagination.tsx`, c√°c component b·∫£ng (`ProductTable`, `OrderTable`), v√† c√°c component form trong modal (`CouponForm`, `AttributeValueFormModal`).

#### `src/types`

ƒê√¢y l√† "ngu·ªìn s·ª± th·∫≠t" v·ªÅ c·∫•u tr√∫c d·ªØ li·ªáu c·ªßa to√†n b·ªô ·ª©ng d·ª•ng.

- **ƒê·ªãnh nghƒ©a Type:** S·ª≠ d·ª•ng **TypeScript `interface` v√† `type`** ƒë·ªÉ ƒë·ªãnh nghƒ©a c·∫•u tr√∫c cho m·ªçi ƒë·ªëi t∆∞·ª£ng d·ªØ li·ªáu, t·ª´ c√°c model database (`Product`, `Order`, `User`) ƒë·∫øn c√°c payload API (`OrderCreationPayload`) v√† response (`PaginatedProductsResponse`).
- **T√°ch bi·ªát Client & Admin:** ƒê·ªëi v·ªõi c√°c model c√≥ c·∫•u tr√∫c ƒëa ng√¥n ng·ªØ, c√°c type ƒë∆∞·ª£c t√°ch bi·ªát r√µ r√†ng:
  - `ProductAdmin`, `CategoryAdmin`: ƒê·∫°i di·ªán cho d·ªØ li·ªáu g·ªëc t·ª´ database v·ªõi c√°c tr∆∞·ªùng ƒëa ng√¥n ng·ªØ (`name: { vi, en }`). ƒê∆∞·ª£c s·ª≠ d·ª•ng trong c√°c form admin.
  - `Product`, `Category`: ƒê·∫°i di·ªán cho d·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c "l√†m ph·∫≥ng" (`name: string`). ƒê∆∞·ª£c s·ª≠ d·ª•ng tr√™n to√†n b·ªô trang client v√† trong c√°c b·∫£ng hi·ªÉn th·ªã c·ªßa admin.
- **`I18nField`:** M·ªôt type d√πng chung `{ vi: string; en: string; }` ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh nh·∫•t qu√°n cho t·∫•t c·∫£ c√°c tr∆∞·ªùng ƒëa ng√¥n ng·ªØ.

#### `src/constants`

Th∆∞ m·ª•c n√†y ch·ª©a c√°c gi√° tr·ªã kh√¥ng ƒë·ªïi, ƒë∆∞·ª£c s·ª≠ d·ª•ng ·ªü nhi·ªÅu n∆°i trong ·ª©ng d·ª•ng ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh nh·∫•t qu√°n v√† d·ªÖ d√†ng thay ƒë·ªïi khi c·∫ßn.

- **`filters.ts`**: ƒê·ªãnh nghƒ©a c√°c kho·∫£ng gi√° ƒë∆∞·ª£c x√°c ƒë·ªãnh tr∆∞·ªõc cho b·ªô l·ªçc s·∫£n ph·∫©m.
- **`orderConstants.ts`**: Ch·ª©a m·∫£ng c√°c tr·∫°ng th√°i ƒë∆°n h√†ng, bao g·ªìm `value` (d√πng trong logic) v√† `label`/`color` (d√πng cho hi·ªÉn th·ªã badge).

#### `src/lib` - T·∫ßng Logic & Qu·∫£n l√Ω State

ƒê√¢y l√† n∆°i ch·ª©a c√°c logic c·ªët l√µi, kh√¥ng ph·ª• thu·ªôc tr·ª±c ti·∫øp v√†o giao di·ªán.

- **`lib/react-query` (TanStack Query):** "B·ªô n√£o" c·ªßa vi·ªác qu·∫£n l√Ω d·ªØ li·ªáu t·ª´ server.
  - **Custom Hooks:** M·ªói resource API c√≥ m·ªôt file query ri√™ng (`productQueries.tsx`). C√°c hook nh∆∞ `useGetProducts`, `useCreateProduct` ƒë√≥ng g√≥i ho√†n to√†n logic g·ªçi API, caching, v√† invalidation.
  - **Qu·∫£n l√Ω Cache:** S·ª≠ d·ª•ng `queryKey` c√≥ c·∫•u tr√∫c ƒë·ªÉ qu·∫£n l√Ω cache hi·ªáu qu·∫£, t·ª± ƒë·ªông c·∫≠p nh·∫≠t giao di·ªán khi d·ªØ li·ªáu thay ƒë·ªïi ·ªü backend.
- **`lib/axiosInstance.ts`**: C·∫•u h√¨nh m·ªôt instance Axios duy nh·∫•t.
  - **Interceptors:** S·ª≠ d·ª•ng `interceptors` ƒë·ªÉ t·ª± ƒë·ªông ƒë√≠nh k√®m **JWT Access Token** v√† header `Accept-Language`, c≈©ng nh∆∞ x·ª≠ l√Ω logic l√†m m·ªõi token v√† t·ª± ƒë·ªông logout.
- **`lib/utils.ts`**: Ch·ª©a c√°c h√†m ti·ªán √≠ch thu·∫ßn t√∫y nh∆∞ `formatCurrency` (h·ªó tr·ª£ ƒëa ti·ªÅn t·ªá), `getLocalizedName` (x·ª≠ l√Ω d·ªØ li·ªáu ƒëa ng√¥n ng·ªØ), `timeAgo`, v.v.

#### `src/services`

T·∫ßng n√†y l√† c·∫ßu n·ªëi tr·ª±c ti·∫øp gi·ªØa ·ª©ng d·ª•ng v√† c√°c endpoint API c·ªßa backend.

- **T√°ch bi·ªát:** M·ªói file service (`productService.ts`, `orderService.ts`) t∆∞∆°ng ·ª©ng v·ªõi m·ªôt controller ·ªü backend.
- **Type-safe:** C√°c h√†m ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a type ch·∫∑t ch·∫Ω b·∫±ng **TypeScript**, nh·∫≠n v√†o payload v√† tr·∫£ v·ªÅ response v·ªõi c√°c `interface` ƒë√£ ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong `src/types`.

#### `src/store` (Redux Toolkit)

Qu·∫£n l√Ω c√°c state to√†n c·ª•c ph√≠a client.

- **`authSlice`**: L∆∞u tr·ªØ th√¥ng tin user, `accessToken`, v√† tr·∫°ng th√°i `isAuthenticated`.
- **`checkoutSlice`**: L∆∞u ID c·ªßa c√°c s·∫£n ph·∫©m ƒë∆∞·ª£c ch·ªçn t·ª´ gi·ªè h√†ng ƒë·ªÉ mang sang trang thanh to√°n.
- **`breadcrumbSlice`**: Gi·∫£i ph√°p s·ª≠ d·ª•ng Redux ƒë·ªÉ c√°c trang con c√≥ th·ªÉ g·ª≠i d·ªØ li·ªáu ƒë·ªông (nh∆∞ t√™n s·∫£n ph·∫©m) ng∆∞·ª£c l√™n cho component `AdminBreadcrumb` ·ªü layout cha.

#### `src/i18n` & `src/middleware.ts`

- **`next-intl`:** Th∆∞ vi·ªán ƒë∆∞·ª£c ch·ªçn ƒë·ªÉ tri·ªÉn khai i18n.
- **`messages/*.json`:** Ch·ª©a c√°c chu·ªói d·ªãch tƒ©nh cho giao di·ªán.
- **`middleware.ts`:**
  - X·ª≠ l√Ω ƒë·ªãnh tuy·∫øn ng√¥n ng·ªØ. N√≥ ∆∞u ti√™n **cookie c·ªßa ng∆∞·ªùi d√πng**, sau ƒë√≥ m·ªõi ƒë·∫øn **c√†i ƒë·∫∑t m·∫∑c ƒë·ªãnh c·ªßa admin** (l·∫•y qua API call).
  - T·ª± ƒë·ªông chuy·ªÉn h∆∞·ªõng ƒë·∫øn URL c√≥ ti·ªÅn t·ªë ng√¥n ng·ªØ (v√≠ d·ª•: `/vi` ho·∫∑c `/en`).
- **`navigation.ts`:** T·∫°o ra c√°c phi√™n b·∫£n "b·∫£n ƒë·ªãa h√≥a" c·ªßa `useRouter`, `usePathname` v√† `Link`.

### 2. Back-end

Backend ƒë∆∞·ª£c x√¢y d·ª±ng theo ki·∫øn tr√∫c **MVC (Model-View-Controller)** m·ªü r·ªông, t·∫≠p trung v√†o t√≠nh module h√≥a, kh·∫£ nƒÉng b·∫£o tr√¨ v√† x·ª≠ l√Ω b·∫•t ƒë·ªìng b·ªô hi·ªáu qu·∫£.

#### Config (`src/config`)

- **`db.js`**: Qu·∫£n l√Ω vi·ªác k·∫øt n·ªëi ƒë·∫øn **MongoDB** b·∫±ng Mongoose. N√≥ ƒë·ªçc chu·ªói k·∫øt n·ªëi t·ª´ bi·∫øn m√¥i tr∆∞·ªùng `MONGODB_URI` v√† x·ª≠ l√Ω l·ªói m·ªôt c√°ch an to√†n, ƒë·∫£m b·∫£o ·ª©ng d·ª•ng s·∫Ω tho√°t n·∫øu kh√¥ng k·∫øt n·ªëi ƒë∆∞·ª£c database.
- **`cloudinary.js`**: C·∫•u h√¨nh SDK c·ªßa **Cloudinary** v·ªõi c√°c th√¥ng tin x√°c th·ª±c t·ª´ bi·∫øn m√¥i tr∆∞·ªùng, s·∫µn s√†ng cho vi·ªác upload file.

#### Models (`src/models`)

ƒê√¢y l√† t·∫ßng d·ªØ li·ªáu, ƒë·ªãnh nghƒ©a c·∫•u tr√∫c cho c√°c collection trong MongoDB b·∫±ng **Mongoose ODM**. M·ªói file trong th∆∞ m·ª•c n√†y t∆∞∆°ng ·ª©ng v·ªõi m·ªôt collection.

- **Ki·∫øn tr√∫c ƒêa ng√¥n ng·ªØ (i18n):** C√°c tr∆∞·ªùng vƒÉn b·∫£n c·∫ßn d·ªãch (nh∆∞ `name`, `description`) s·ª≠ d·ª•ng m·ªôt `i18nStringSchema` chung, l∆∞u d·ªØ li·ªáu d∆∞·ªõi d·∫°ng object `{ vi: '...', en: '...' }`.
- **D·ªØ li·ªáu Nh√∫ng & Tham chi·∫øu:** K·∫øt h·ª£p linh ho·∫°t gi·ªØa vi·ªác nh√∫ng d·ªØ li·ªáu (Embedding) cho c√°c th√¥ng tin c√≥ quan h·ªá ch·∫∑t ch·∫Ω (v√≠ d·ª•: `Product.variants`, `Order.orderItems`) v√† tham chi·∫øu (Referencing) qua `ObjectId` v√† `ref` cho c√°c m·ªëi quan h·ªá logic (`Product` -> `Category`, `Order` -> `User`).
- **T·ª± ƒë·ªông h√≥a:** S·ª≠ d·ª•ng c√°c hook `pre('save')` c·ªßa Mongoose ƒë·ªÉ t·ª± ƒë·ªông h√≥a c√°c t√°c v·ª• nh∆∞ t·∫°o `slug`.

**C√°c Model ch√≠nh:**

- `User`: L∆∞u th√¥ng tin kh√°ch h√†ng v√† admin, bao g·ªìm c·∫£ tr·∫°ng th√°i `isActive`.
- `Product`: L∆∞u th√¥ng tin s·∫£n ph·∫©m, bao g·ªìm c√°c bi·∫øn th·ªÉ (variants) v√† thu·ªôc t√≠nh (attributes) ƒëa ng√¥n ng·ªØ.
- `Category`: L∆∞u danh m·ª•c s·∫£n ph·∫©m v·ªõi c·∫•u tr√∫c cha-con ƒë·ªá quy.
- `Order`: L∆∞u "snapshot" ƒëa ng√¥n ng·ªØ c·ªßa m·ªôt ƒë∆°n h√†ng t·∫°i th·ªùi ƒëi·ªÉm mua, ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn l·ªãch s·ª≠.
- `Attribute`, `Coupon`, `Review`, `Setting`, `Cart`, `Wishlist`, `Notification`.

#### Validations (`src/validations`)

- **N·ªÅn t·∫£ng:** S·ª≠ d·ª•ng th∆∞ vi·ªán **Joi** ƒë·ªÉ ƒë·ªãnh nghƒ©a c√°c schema x√°c th·ª±c cho d·ªØ li·ªáu ƒë·∫ßu v√†o.
- **Validation chi ti·∫øt:** M·ªói schema ƒë·ªãnh nghƒ©a c√°c quy t·∫Øc ch·∫∑t ch·∫Ω cho t·ª´ng tr∆∞·ªùng: ki·ªÉu d·ªØ li·ªáu, ƒë·ªô d√†i, ƒë·ªãnh d·∫°ng (regex), v√† c√°c th√¥ng b√°o l·ªói t√πy ch·ªânh b·∫±ng Ti·∫øng Vi·ªát.
- **X·ª≠ l√Ω ƒêa ng√¥n ng·ªØ:** Schema `i18nStringSchema` c·ªßa Joi ƒë∆∞·ª£c t·∫°o ra ƒë·ªÉ x√°c th·ª±c c√°c object `{ vi, en }`, ƒë·∫£m b·∫£o d·ªØ li·ªáu ƒëa ng√¥n ng·ªØ ƒë·∫ßu v√†o lu√¥n h·ª£p l·ªá.
- **Logic Ph·ª• thu·ªôc:** S·ª≠ d·ª•ng c√°c ph∆∞∆°ng th·ª©c n√¢ng cao nh∆∞ `.when()` v√† `.xor()` ƒë·ªÉ x·ª≠ l√Ω c√°c logic validation ph·ª©c t·∫°p.

#### Controllers (`src/controllers`)

ƒê√¢y l√† "b·ªô n√£o" ch·ª©a to√†n b·ªô logic nghi·ªáp v·ª•. M·ªói controller qu·∫£n l√Ω m·ªôt resource c·ª• th·ªÉ (v√≠ d·ª•: `productController`, `orderController`).

- **X·ª≠ l√Ω B·∫•t ƒë·ªìng b·ªô:** M·ªçi h√†m controller ƒë·ªÅu l√† `async` v√† ƒë∆∞·ª£c b·ªçc trong `asyncHandler` ƒë·ªÉ t·ª± ƒë·ªông b·∫Øt l·ªói v√† chuy·ªÉn ƒë·∫øn `errorHandler`.
- **Logic "L√†m ph·∫≥ng" (Flattening):** Controllers ch·ªãu tr√°ch nhi·ªám "l√†m ph·∫≥ng" d·ªØ li·ªáu ƒëa ng√¥n ng·ªØ. D·ª±a v√†o `req.locale`, ch√∫ng s·∫Ω ch·ªçn ƒë√∫ng chu·ªói ng√¥n ng·ªØ (`.vi` ho·∫∑c `.en`), gi√∫p cho frontend client nh·∫≠n ƒë∆∞·ª£c d·ªØ li·ªáu s·∫µn s√†ng ƒë·ªÉ hi·ªÉn th·ªã. C√°c API d√†nh ri√™ng cho admin s·∫Ω tr·∫£ v·ªÅ d·ªØ li·ªáu g·ªëc.
- **Aggregation Pipeline:** S·ª≠ d·ª•ng m·∫°nh m·∫Ω **Aggregation Pipeline** c·ªßa MongoDB ƒë·ªÉ th·ª±c hi·ªán c√°c ph√©p t√≠nh to√°n v√† t·ªïng h·ª£p d·ªØ li·ªáu ph·ª©c t·∫°p (t√≠nh doanh thu, b√°o c√°o, l·ªçc n√¢ng cao).

**Lu·ªìng x·ª≠ l√Ω trong m·ªói h√†m Controller:**

1. **Thu th·∫≠p d·ªØ li·ªáu ƒë·∫ßu v√†o:** L·∫•y d·ªØ li·ªáu t·ª´ `req.params`, `req.query`, `req.body`, `req.user` (ƒë√£ ƒë∆∞·ª£c middleware x√°c th·ª±c) v√† `req.locale`.
2. **T∆∞∆°ng t√°c v·ªõi Model:** G·ªçi c√°c ph∆∞∆°ng th·ª©c c·ªßa Mongoose (`.find()`, `.findById()`, `.aggregate()`, `.save()`) ƒë·ªÉ thao t√°c v·ªõi database.
3. **X·ª≠ l√Ω logic nghi·ªáp v·ª•:** Th·ª±c hi·ªán c√°c ph√©p t√≠nh, ki·ªÉm tra ƒëi·ªÅu ki·ªán, v√† g·ªçi c√°c h√†m ti·ªán √≠ch (`utils`) n·∫øu c·∫ßn (v√≠ d·ª•: g·ª≠i email, t·∫°o th√¥ng b√°o).
4. **G·ª≠i Response:** Tr·∫£ v·ªÅ response cho client v·ªõi status code v√† d·ªØ li·ªáu JSON ph√π h·ª£p.

**C√°c Status Code Response ph·ªï bi·∫øn:**

- `200 OK`: Cho c√°c request `GET` ho·∫∑c `PUT`/`PATCH` th√†nh c√¥ng.
- `201 Created`: Cho request `POST` t·∫°o m·ªõi m·ªôt t√†i nguy√™n th√†nh c√¥ng.
- `204 No Content`: Cho request `DELETE` th√†nh c√¥ng (kh√¥ng tr·∫£ v·ªÅ body).
- `400 Bad Request`: D·ªØ li·ªáu ƒë·∫ßu v√†o kh√¥ng h·ª£p l·ªá (l·ªói t·ª´ Joi validation).
- `401 Unauthorized`: L·ªói x√°c th·ª±c (thi·∫øu token, token sai/h·∫øt h·∫°n).
- `403 Forbidden`: ƒê√£ x√°c th·ª±c nh∆∞ng kh√¥ng c√≥ quy·ªÅn truy c·∫≠p (v√≠ d·ª•: user th∆∞·ªùng c·ªë truy c·∫≠p route admin, ho·∫∑c t√†i kho·∫£n b·ªã ƒë√¨nh ch·ªâ).
- `404 Not Found`: Kh√¥ng t√¨m th·∫•y t√†i nguy√™n ƒë∆∞·ª£c y√™u c·∫ßu.
- `500 Internal Server Error`: L·ªói kh√¥ng x√°c ƒë·ªãnh t·ª´ ph√≠a server.

#### Middlewares (`src/middlewares`)

- **`asyncHandler.js`:** M·ªôt wrapper gi√∫p b·∫Øt c√°c l·ªói trong c√°c h√†m `async` v√† chuy·ªÉn ch√∫ng ƒë·∫øn `errorHandler` m·ªôt c√°ch t·ª± ƒë·ªông.
- **`authMiddleware.js`:**
  - `protect`: B·∫£o v·ªá route, gi·∫£i m√£ **JWT**, t√¨m ng∆∞·ªùi d√πng, v√† ki·ªÉm tra tr·∫°ng th√°i `isActive` tr√™n **m·ªçi request**.
  - `protectOptional`: C·ªë g·∫Øng x√°c th·ª±c ng∆∞·ªùi d√πng nh∆∞ng kh√¥ng b√°o l·ªói n·∫øu thi·∫øu token.
- **`localeMiddleware.js`:** ƒê·ªçc header `Accept-Language` v√† g·∫Øn `req.locale`, l√†m c∆° s·ªü cho logic ƒëa ng√¥n ng·ªØ.
- **`identifyCartUser.js` & `identifyWishlistUser.js`:** C√°c middleware th√¥ng minh x√°c ƒë·ªãnh ƒë·ªãnh danh cho gi·ªè h√†ng/wishlist (∆∞u ti√™n `userId`, fallback v·ªÅ `guestId` trong cookie).
- **`validationMiddleware.js`:** S·ª≠ d·ª•ng c√°c schema t·ª´ `validations` ƒë·ªÉ ki·ªÉm tra `req.body`.
- **`errorMiddleware.js`:** `notFound` (x·ª≠ l√Ω l·ªói 404) v√† `errorHandler` (b·∫Øt t·∫•t c·∫£ c√°c l·ªói kh√°c).

#### Routes (`src/routes`)

ƒê·ªãnh nghƒ©a c√°c endpoint API theo chu·∫©n RESTful, l√† c·ªïng giao ti·∫øp gi·ªØa frontend v√† controllers.

- **C·∫•u tr√∫c:** S·ª≠ d·ª•ng `express.Router()` ƒë·ªÉ nh√≥m c√°c endpoint theo t·ª´ng resource (v√≠ d·ª•: `productRoutes.js`, `orderRoutes.js`).
- **Ph∆∞∆°ng th·ª©c HTTP:** S·ª≠ d·ª•ng ƒë√∫ng c√°c ph∆∞∆°ng th·ª©c `GET`, `POST`, `PUT`, `DELETE` cho c√°c h√†nh ƒë·ªông CRUD t∆∞∆°ng ·ª©ng.
- **G·∫Øn Middlewares:** C√°c route ƒë∆∞·ª£c g·∫Øn v·ªõi c√°c middleware theo ƒë√∫ng th·ª© t·ª± logic:
  `router.post('/', protect, isAdmin, validateRequest(schema), controllerFunction);`
- **T√°ch bi·ªát Admin/Client:** M·ªôt s·ªë route c√≥ c√°c endpoint `/admin` ri√™ng bi·ªát ƒë·ªÉ tr·∫£ v·ªÅ d·ªØ li·ªáu g·ªëc, ƒëa ng√¥n ng·ªØ, ph·ª•c v·ª• cho vi·ªác ch·ªânh s·ª≠a, trong khi c√°c endpoint c√¥ng khai tr·∫£ v·ªÅ d·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c l√†m ph·∫≥ng.

**M·ªôt s·ªë c√°c API Endpoint ch√≠nh:**

| Ph∆∞∆°ng th·ª©c                 | Endpoint                     | Ch·ª©c nƒÉng                                             |
| :-------------------------- | :--------------------------- | :---------------------------------------------------- |
| **Authentication**          |                              |                                                       |
| `POST`                      | `/api/v1/auth/register`      | ƒêƒÉng k√Ω t√†i kho·∫£n m·ªõi.                                |
| `POST`                      | `/api/v1/auth/login`         | ƒêƒÉng nh·∫≠p v√† nh·∫≠n Access Token.                       |
| `POST`                      | `/api/v1/auth/refresh`       | L√†m m·ªõi Access Token b·∫±ng Refresh Token.              |
| `POST`                      | `/api/v1/auth/logout`        | ƒêƒÉng xu·∫•t.                                            |
| **Products**                |                              |                                                       |
| `GET`                       | `/api/v1/products`           | L·∫•y danh s√°ch s·∫£n ph·∫©m (c√≥ filter, sort, pagination). |
| `GET`                       | `/api/v1/products/:idOrSlug` | L·∫•y chi ti·∫øt m·ªôt s·∫£n ph·∫©m.                            |
| `POST`                      | `/api/v1/products`           | **[Admin]** T·∫°o s·∫£n ph·∫©m m·ªõi.                         |
| `PUT`                       | `/api/v1/products/:id`       | **[Admin]** C·∫≠p nh·∫≠t s·∫£n ph·∫©m.                        |
| **Orders**                  |                              |                                                       |
| `GET`                       | `/api/v1/orders/my`          | **[User]** L·∫•y l·ªãch s·ª≠ ƒë∆°n h√†ng.                      |
| `POST`                      | `/api/v1/orders`             | T·∫°o ƒë∆°n h√†ng m·ªõi t·ª´ gi·ªè h√†ng.                         |
| `GET`                       | `/api/v1/orders`             | **[Admin]** L·∫•y t·∫•t c·∫£ ƒë∆°n h√†ng.                      |
| `PUT`                       | `/api/v1/orders/:id/status`  | **[Admin]** C·∫≠p nh·∫≠t tr·∫°ng th√°i ƒë∆°n h√†ng.             |
| `POST`                      | `/api/v1/orders/:id/restock` | **[Admin]** Kh√¥i ph·ª•c t·ªìn kho cho ƒë∆°n h√†ng ƒë√£ h·ªßy.    |
| **Dashboard & Reports**     |                              |                                                       |
| `GET`                       | `/api/v1/dashboard/stats`    | **[Admin]** L·∫•y c√°c s·ªë li·ªáu t·ªïng quan cho dashboard.  |
| `GET`                       | `/api/v1/reports/sales`      | **[Admin]** L·∫•y b√°o c√°o chi ti·∫øt v·ªÅ b√°n h√†ng.         |
| **V√† nhi·ªÅu endpoints kh√°c** |                              | Cho `Users`, `Categories`, `Coupons`, `Reviews`,...   |

#### Utils (`src/utils`)

- **`generateToken.js`:** Logic t·∫°o Access & Refresh Token b·∫±ng JWT.
- **`sendEmail.js`:** T√≠ch h·ª£p **Nodemailer** ƒë·ªÉ g·ª≠i email giao d·ªãch.
- **`paypalClient.js`:** ƒê√≥ng g√≥i to√†n b·ªô logic giao ti·∫øp v·ªõi **PayPal API**, bao g·ªìm c·∫£ vi·ªác l·∫•y t·ª∑ gi√° t·ª± ƒë·ªông t·ª´ **ExchangeRate-API**.
- **`cartUtils.js` & `wishlistUtils.js`:** Ch·ª©a logic nghi·ªáp v·ª• ph·ª©c t·∫°p nh∆∞ t·ª± ƒë·ªông g·ªôp gi·ªè h√†ng/wishlist c·ªßa kh√°ch sau khi h·ªç ƒëƒÉng nh·∫≠p.
- **`notificationUtils.js`:** T√≠ch h·ª£p v·ªõi **Socket.IO** ƒë·ªÉ "ph√°t" (`emit`) c√°c th√¥ng b√°o real-time ƒë·∫øn admin.
- **`logger.js`:** C·∫•u h√¨nh **Winston** ƒë·ªÉ t·∫°o h·ªá th·ªëng logging m·∫°nh m·∫Ω.

#### App & Server (`src/app & src/server`)

- **Kh·ªüi t·∫°o & L·∫Øp r√°p:** `app.js` ch·ªãu tr√°ch nhi·ªám t·∫°o instance c·ªßa Express, c·∫•u h√¨nh c√°c middleware to√†n c·ª•c nh∆∞ `cors`, `cookieParser`, `httpLoggerMiddleware`, `setLocale`, v√† sau ƒë√≥ "l·∫Øp r√°p" t·∫•t c·∫£ c√°c file routes v√†o c√°c ƒë∆∞·ªùng d·∫´n t∆∞∆°ng ·ª©ng. N√≥ c≈©ng ƒë·ªãnh nghƒ©a middleware x·ª≠ l√Ω l·ªói cu·ªëi c√πng.
- **Kh·ªüi ch·∫°y Server:** `server.js` l√† file th·ª±c thi ch√≠nh. N√≥ import `app` t·ª´ `app.js`, th·ª±c hi·ªán k·∫øt n·ªëi ƒë·∫øn database (`connectDB`), t·∫°o m·ªôt server HTTP, v√† quan tr·ªçng nh·∫•t l√† t√≠ch h·ª£p **Socket.IO** v√†o server HTTP ƒë√≥ b·∫±ng c√°ch g·ªçi `initSocket(httpServer)`.

#### Socket.IO (`src/socket.js`)

- **Ki·∫øn tr√∫c Real-time:** File n√†y qu·∫£n l√Ω to√†n b·ªô logic giao ti·∫øp th·ªùi gian th·ª±c.
- **X√°c th·ª±c Admin:** Socket.IO c√≥ m·ªôt middleware (`io.use`) ri√™ng ƒë·ªÉ x√°c th·ª±c c√°c k·∫øt n·ªëi t·ª´ client admin. N√≥ y√™u c·∫ßu client g·ª≠i JWT qua `socket.handshake.auth.token`, gi·∫£i m√£ token, v√† ki·ªÉm tra vai tr√≤ `admin` tr∆∞·ªõc khi cho ph√©p k·∫øt n·ªëi.
- **Qu·∫£n l√Ω k·∫øt n·ªëi:** S·ª≠ d·ª•ng m·ªôt `Map` (`adminSockets`) ƒë·ªÉ theo d√µi c√°c admin ƒëang online (√°nh x·∫° `userId` -> `socket.id`).
- **Ph√°t s·ª± ki·ªán:** Cung c·∫•p m·ªôt h√†m `emitToAdmins` c√≥ th·ªÉ ƒë∆∞·ª£c g·ªçi t·ª´ b·∫•t k·ª≥ ƒë√¢u trong ·ª©ng d·ª•ng (v√≠ d·ª•: t·ª´ `notificationUtils`) ƒë·ªÉ g·ª≠i s·ª± ki·ªán ƒë·∫øn m·ªôt ho·∫∑c t·∫•t c·∫£ c√°c admin ƒëang k·∫øt n·ªëi, t·∫°o ra c√°c th√¥ng b√°o real-time.

---

## üöÄ Getting Started

H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t v√† ch·∫°y d·ª± √°n tr√™n m√¥i tr∆∞·ªùng local.

### Y√™u c·∫ßu tr∆∞·ªõc khi c√†i ƒë·∫∑t

- [Node.js](https://nodejs.org/) (phi√™n b·∫£n v18.x tr·ªü l√™n)
- [MongoDB](https://www.mongodb.com/try/download/community) (ƒë√£ ƒë∆∞·ª£c c√†i ƒë·∫∑t v√† ch·∫°y) ho·∫∑c m·ªôt t√†i kho·∫£n [MongoDB Atlas](https://www.mongodb.com/cloud/atlas).
- [Git](https://git-scm.com/)

### C√†i ƒë·∫∑t & Thi·∫øt l·∫≠p

1. **Clone the repository:**

   - [GitHub](https://github.com/Haise45/Serein_Online_Shop.git)
   - [GitLab](https://gitlab.com/phuocnlb/online-store.git)

   ```bash
   git clone https://<choose-one>.git
   cd your-project-folder
   ```

2. **Setup Backend:**

   ```bash
   cd backend
   npm install
   ```

   - T·∫°o m·ªôt file `.env` trong th∆∞ m·ª•c `backend` (b·∫°n c√≥ th·ªÉ sao ch√©p t·ª´ file `.env.example` n·∫øu c√≥).
   - ƒêi·ªÅn c√°c bi·∫øn m√¥i tr∆∞·ªùng c·∫ßn thi·∫øt: `PORT`, `MONGODB_URI`, `JWT_SECRET`, `JWT_REFRESH_SECRET`, `CLOUDINARY_*`, `PAYPAL_*`, `EXCHANGE_RATE_API_KEY`, `EMAIL_*`.

3. **Setup Frontend:**

   ```bash
   cd ../frontend
   npm install
   ```

   - T·∫°o m·ªôt file `.env.local` trong th∆∞ m·ª•c `frontend` (b·∫°n c√≥ th·ªÉ sao ch√©p t·ª´ file `.env.example` n·∫øu c√≥).
   - ƒêi·ªÅn c√°c bi·∫øn m√¥i tr∆∞·ªùng c·∫ßn thi·∫øt:
     - `NEXT_PUBLIC_API_URL`: URL m√† tr√¨nh duy·ªát s·∫Ω g·ªçi ƒë·∫øn backend (v√≠ d·ª•: `http://localhost:8080/api/v1`).
     - `NEXT_PUBLIC_PAYPAL_CLIENT_ID`.

### Ch·∫°y ·ª©ng d·ª•ng

1. **Start the Backend Server:**

   ```bash
   # Trong th∆∞ m·ª•c /backend
   npm run dev
   ```

   Server backend s·∫Ω ch·∫°y t·∫°i port ƒë√£ c·∫•u h√¨nh (v√≠ d·ª•: `http://localhost:8080`).

2. **Start the Frontend Server:**

   ```bash
   # Trong th∆∞ m·ª•c /frontend (m·ªü m·ªôt terminal m·ªõi)
   npm run dev
   ```

   Trang web s·∫Ω c√≥ th·ªÉ truy c·∫≠p t·∫°i `http://localhost:3000`.

---

ƒê√¢y l√† d·ª± √°n c√° nh√¢n v√† l√† l·∫ßn ƒë·∫ßu l√†m Fullstack n√™n n·∫øu c√≥ g√≥p √Ω hay g·∫∑p v·∫•n ƒë·ªÅ, bugs,...Xin li√™n h·ªá <phuocnguyenlebao@gmail.com> ho·∫∑c t·∫°o Issue tr√™n Github ho·∫∑c Gitlab.. Xin ch√¢n th√†nh c·∫£m ∆°n v√¨ ƒë√£ quan t√¢m v√† s·ª≠ d·ª•ng d·ª± √°n n√†y.

---

Best Regrads, Haise
